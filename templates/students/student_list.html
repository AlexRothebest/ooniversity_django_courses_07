{% extends "base.html" %}


{% load staticfiles %}


{% block title %}pyBursa - Students list{% endblock %}


{% block nav_class_students %}active{% endblock %}


{% block content %}
{% csrf_token %}
    <div class="container">
      <main role="main">
        <div class="jumbotron">
          <div class="col-sm-10 mx-auto">
            {% if messages %}
            <div class="container">
              <div class="messages">
                {% for message in messages %}
                <div class="alert alert-success" role="alert" {% if message.tags %} class="{{ message.tags }}"{% endif %}>
                  {{ message }}
                </div>
                {% endfor %}
              </div>
            </div>
            {% endif %}
            <a href="{% url 'students:add' %}" class="btn btn-primary my-2">Добавить нового студента</a>
            <h3>Список студентов</h3>
            <table class="table table-striped">
              <tr>
                <td>#</td>
                <td>фамилия имя</td>
                <td>адрес</td>
                <td>skype</td>
                <td>курсы</td>
                <td></td>
                <td></td>
              </tr>
              {% for student in object_list %}
              <tr>
                <td>{{ forloop.counter }}</td>
                <td><a href="{% url 'students:detail' student.id %}">{{ student.surname }} {{ student.name }}</a></td>
                <td>{{ student.address }}</td>
                <td>{{ student.skype }}</td>
                <td>{% for course in student.courses.all %}
                    <p><a href="{% url 'courses:detail' course.id %}">{{ course }}</a></p>
                    {% endfor %}
                </td>
                <td><a href="{% url 'students:edit' student.id %}" class="btn btn-primary my-2">Изменить</a></td>
                <td><a href="{% url 'students:remove' student.id %}" class="btn btn-primary my-2">Удалить</a></td>
              </tr>
              {% endfor %}
            </table>
          </div>
        </div>
      </main>
    </div>
{% endblock content %}
